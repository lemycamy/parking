{"ast":null,"code":"import express from \"express\";\nimport User from \"../models/User.js\";\nconst router = express.Router();\nrouter.post(\"/login\", async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n  try {\n    const user = await User.findOne({\n      username\n    });\n    if (!user) return res.status(404).json({\n      message: \"User not found\"\n    });\n    if (user.password !== password) return res.status(401).json({\n      message: \"Wrong password\"\n    });\n    res.json({\n      message: \"Login successful\",\n      user\n    });\n  } catch (err) {\n    res.status(500).json({\n      error: err.message\n    });\n  }\n});\nexport default router;","map":{"version":3,"names":["express","User","router","Router","post","req","res","username","password","body","user","findOne","status","json","message","err","error"],"sources":["C:/Users/Lyle/Desktop/Parking/front-end/src/auth.js"],"sourcesContent":["import express from \"express\";\r\nimport User from \"../models/User.js\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/login\", async (req, res) => {\r\n  const { username, password } = req.body;\r\n\r\n  try {\r\n    const user = await User.findOne({ username });\r\n\r\n    if (!user) return res.status(404).json({ message: \"User not found\" });\r\n    if (user.password !== password) return res.status(401).json({ message: \"Wrong password\" });\r\n\r\n    res.json({ message: \"Login successful\", user });\r\n  } catch (err) {\r\n    res.status(500).json({ error: err.message });\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,IAAI,MAAM,mBAAmB;AAEpC,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EACxC,MAAM;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAGH,GAAG,CAACI,IAAI;EAEvC,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMT,IAAI,CAACU,OAAO,CAAC;MAAEJ;IAAS,CAAC,CAAC;IAE7C,IAAI,CAACG,IAAI,EAAE,OAAOJ,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAiB,CAAC,CAAC;IACrE,IAAIJ,IAAI,CAACF,QAAQ,KAAKA,QAAQ,EAAE,OAAOF,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAiB,CAAC,CAAC;IAE1FR,GAAG,CAACO,IAAI,CAAC;MAAEC,OAAO,EAAE,kBAAkB;MAAEJ;IAAK,CAAC,CAAC;EACjD,CAAC,CAAC,OAAOK,GAAG,EAAE;IACZT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEG,KAAK,EAAED,GAAG,CAACD;IAAQ,CAAC,CAAC;EAC9C;AACF,CAAC,CAAC;AAEF,eAAeZ,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}